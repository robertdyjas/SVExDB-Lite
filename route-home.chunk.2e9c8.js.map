{"version":3,"sources":["webpack:///route-home.chunk.2e9c8.js","webpack:///./routes/home/index.js","webpack:///./routes/home/style.scss?5ac2"],"names":["webpackJsonp","+SwV","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","d","Home","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1__style__","n","__WEBPACK_IMPORTED_MODULE_1__style___default","tsvUrl","_ref","_ref2","_ref3","_ref4","_ref5","_Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","this","apply","concat","state","tsvs","undefined","pkm","filteredPkm","showWoMatch","gen7","handleTextChanged","e","updatePkm","target","handleShowChange","setState","checked","handleGen6Change","filter","getMatchesForPkm","handleGen7Change","handleDrop","stopPropagation","preventDefault","console","log","dataTransfer","files","file","fileReader","FileReader","onload","ev","text","result","readAsText","componentDidMount","_this2","window","localStorage","data","getItem","JSON","parse","last_updated_at","Date","getTime","fetch","then","res","json","setItem","stringify","_this3","lines","split","test","map","tsvs7","tsvs6","getPkm","render","_this4","tsv6Count","some","f","archived","tsv7Count","class","a","home","topWrapper","settings","type","onChange","name","defaultChecked","statistics","invisible","slice","inputContainer","wrap","placeholder","onInput","onDrop","results","hidden","tsv","href","link","user","Lglr","exports"],"mappings":"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","file":"route-home.chunk.2e9c8.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"+SwV\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Home; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style__ = __webpack_require__(\"Lglr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style__);\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar tsvUrl = 'https://cu3po42.github.io/SVEx-Crawler/tsvs.json';\n\nvar _ref = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t'h3',\n\tnull,\n\t'Settings'\n);\n\nvar _ref2 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('br', null);\n\nvar _ref3 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t'h3',\n\tnull,\n\t'Statistics'\n);\n\nvar _ref4 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('br', null);\n\nvar _ref5 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t'tr',\n\tnull,\n\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t'th',\n\t\tnull,\n\t\t'Pok\\xE9mon'\n\t),\n\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t'th',\n\t\tnull,\n\t\t'Matches'\n\t)\n);\n\nvar Home = function (_Component) {\n\t_inherits(Home, _Component);\n\n\tfunction Home() {\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, Home);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n\t\t\ttsvs: undefined,\n\t\t\tpkm: [],\n\t\t\tfilteredPkm: [],\n\t\t\tshowWoMatch: false,\n\t\t\tgen7: true\n\t\t}, _this.handleTextChanged = function (e) {\n\t\t\t_this.updatePkm(e.target.value);\n\t\t}, _this.handleShowChange = function (e) {\n\t\t\t_this.setState({ showWoMatch: e.target.checked });\n\t\t}, _this.handleGen6Change = function (e) {\n\t\t\t_this.setState({ gen7: false });\n\t\t\t_this.setState({ filteredPkm: _this.state.pkm.filter(function (e) {\n\t\t\t\t\treturn _this.getMatchesForPkm(e).length;\n\t\t\t\t}) });\n\t\t}, _this.handleGen7Change = function (e) {\n\t\t\t_this.setState({ gen7: true });\n\t\t}, _this.handleDrop = function (e) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\tconsole.log(e);\n\t\t\tif (e.dataTransfer.files[0]) {\n\t\t\t\tvar file = e.dataTransfer.files[0];\n\t\t\t\tvar fileReader = new FileReader();\n\t\t\t\tfileReader.onload = function (ev) {\n\t\t\t\t\tvar text = ev.target.result;\n\t\t\t\t\te.target.value = text;\n\t\t\t\t\t_this.updatePkm(text);\n\t\t\t\t};\n\t\t\t\tfileReader.readAsText(file);\n\t\t\t}\n\t\t\tconsole.log(e);\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\tHome.prototype.componentDidMount = function componentDidMount() {\n\t\tvar _this2 = this;\n\n\t\tif (typeof window !== 'undefined' && window.localStorage) {\n\t\t\tvar data = localStorage.getItem('tsvdata');\n\t\t\tif (data) {\n\t\t\t\tvar tsvs = JSON.parse(data);\n\t\t\t\tif (tsvs && tsvs.last_updated_at && new Date().getTime() / 1000 - tsvs.last_updated_at < 60 * 60 * 3) {\n\t\t\t\t\tthis.setState({ tsvs: tsvs });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfetch(tsvUrl).then(function (res) {\n\t\t\t\treturn res.json();\n\t\t\t}).then(function (tsvs) {\n\t\t\t\t_this2.setState({ tsvs: tsvs });\n\t\t\t\tlocalStorage.setItem('tsvdata', JSON.stringify(tsvs));\n\t\t\t});\n\t\t} else {\n\t\t\tfetch(tsvUrl).then(function (res) {\n\t\t\t\treturn res.json();\n\t\t\t}).then(function (tsvs) {\n\t\t\t\t_this2.setState({ tsvs: tsvs });\n\t\t\t});\n\t\t}\n\t};\n\n\tHome.prototype.updatePkm = function updatePkm(text) {\n\t\tvar _this3 = this;\n\n\t\tvar lines = text.split(/\\r?\\n/).filter(function (e) {\n\t\t\treturn (/\\b\\d{4}\\b/.test(e)\n\t\t\t);\n\t\t}).map(function (e) {\n\t\t\treturn e.split(/(\\b\\d{4}\\b)/);\n\t\t});\n\t\tthis.setState({ pkm: lines, filteredPkm: lines.filter(function (e) {\n\t\t\t\treturn _this3.getMatchesForPkm(e).length;\n\t\t\t}) });\n\t};\n\n\tHome.prototype.getMatchesForPkm = function getMatchesForPkm(pkm) {\n\t\tif (!this.state.tsvs) return [];\n\t\treturn (this.state.gen7 ? this.state.tsvs.tsvs7 : this.state.tsvs.tsvs6)[+pkm[1]];\n\t};\n\n\tHome.prototype.getPkm = function getPkm() {\n\t\treturn this.state.showWoMatch ? this.state.pkm : this.state.filteredPkm;\n\t};\n\n\tHome.prototype.render = function render() {\n\t\tvar _this4 = this;\n\n\t\tvar tsv6Count = this.state.tsvs ? this.state.tsvs.tsvs6.filter(function (e) {\n\t\t\treturn e.length && e.some(function (f) {\n\t\t\t\treturn !f.archived;\n\t\t\t});\n\t\t}).length : 0;\n\t\tvar tsv7Count = this.state.tsvs ? this.state.tsvs.tsvs7.filter(function (e) {\n\t\t\treturn e.length && e.some(function (f) {\n\t\t\t\treturn !f.archived;\n\t\t\t});\n\t\t}).length : 0;\n\t\treturn Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t'div',\n\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.home },\n\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.topWrapper },\n\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.settings },\n\t\t\t\t\t_ref,\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t'label',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('input', { type: 'checkbox', onChange: this.handleShowChange }),\n\t\t\t\t\t\t'Show Pok\\xE9mon without matches'\n\t\t\t\t\t),\n\t\t\t\t\t_ref2,\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t'label',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('input', { type: 'radio', name: 'gen', onChange: this.handleGen6Change }),\n\t\t\t\t\t\t'Generation 6'\n\t\t\t\t\t),\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t'label',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('input', { type: 'radio', name: 'gen', defaultChecked: true, onChange: this.handleGen7Change }),\n\t\t\t\t\t\t'Generation 7'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.statistics },\n\t\t\t\t\t_ref3,\n\t\t\t\t\t'TSV6: ',\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.invisible },\n\t\t\t\t\t\t'0000'.slice((\"\" + tsv6Count).length)\n\t\t\t\t\t),\n\t\t\t\t\ttsv6Count,\n\t\t\t\t\t' / 4096',\n\t\t\t\t\t_ref4,\n\t\t\t\t\t'TSV7: ',\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.invisible },\n\t\t\t\t\t\t'0000'.slice((\"\" + tsv7Count).length)\n\t\t\t\t\t),\n\t\t\t\t\ttsv7Count,\n\t\t\t\t\t' / 4096'\n\t\t\t\t)\n\t\t\t),\n\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.inputContainer },\n\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('textarea', { wrap: 'soft', placeholder: 'Paste some Pok\\xE9mon data here or drag & drop a dump...', onInput: this.handleTextChanged, onDrop: this.handleDrop })\n\t\t\t),\n\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t'table',\n\t\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.results + ' ' + (this.getPkm().length ? '' : __WEBPACK_IMPORTED_MODULE_1__style___default.a.hidden) },\n\t\t\t\t_ref5,\n\t\t\t\tthis.getPkm().map(function (pkm) {\n\t\t\t\t\treturn Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t'tr',\n\t\t\t\t\t\t{ 'class': true },\n\t\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t\t'td',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tpkm[0],\n\t\t\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t{ 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.tsv },\n\t\t\t\t\t\t\t\tpkm[1]\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tpkm[2]\n\t\t\t\t\t\t),\n\t\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t\t'td',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_this4.getMatchesForPkm(pkm).map(function (e) {\n\t\t\t\t\t\t\t\treturn Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t\t\t\t\t'a',\n\t\t\t\t\t\t\t\t\t\t{ href: 'https://www.reddit.com/r/SVExchange/comments/' + e.link + '/' + pkm[1] + '/', target: '_blank' },\n\t\t\t\t\t\t\t\t\t\t'/u/',\n\t\t\t\t\t\t\t\t\t\te.user\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\te.archived ? ' (recently archived)' : null\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t)\n\t\t);\n\t};\n\n\treturn Home;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n\n\n/***/ }),\n\n/***/ \"Lglr\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"inputContainer\":\"inputContainer__26ab2\",\"results\":\"results__1fpcf\",\"hidden\":\"hidden__1IFvQ\",\"tsv\":\"tsv__3FGFu\",\"topWrapper\":\"topWrapper__3C23j\",\"settings\":\"settings__2-d0H\",\"statistics\":\"statistics__3IleG\",\"invisible\":\"invisible__2NF4r\"};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-home.chunk.2e9c8.js","import { h, Component } from 'preact';\nimport style from './style';\n\nconst tsvUrl = 'https://cu3po42.github.io/SVEx-Crawler/tsvs.json';\n\nexport default class Home extends Component {\n\tstate = {\n\t\ttsvs: undefined,\n\t\tpkm: [],\n\t\tfilteredPkm: [],\n\t\tshowWoMatch: false,\n\t\tgen7: true\n\t};\n\n\tcomponentDidMount() {\n\t\tif (typeof window !== 'undefined' && window.localStorage) {\n\t\t\tconst data = localStorage.getItem('tsvdata');\n\t\t\tif (data) {\n\t\t\t\tconst tsvs = JSON.parse(data);\n\t\t\t\tif (tsvs && tsvs.last_updated_at && new Date().getTime() / 1000 - tsvs.last_updated_at < 60 * 60 * 3) {\n\t\t\t\t\tthis.setState({ tsvs });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfetch(tsvUrl).then(res => res.json()).then((tsvs) => {\n\t\t\t\tthis.setState({ tsvs });\n\t\t\t\tlocalStorage.setItem('tsvdata', JSON.stringify(tsvs));\n\t\t\t});\n\t\t} else {\n\t\t\tfetch(tsvUrl).then(res => res.json()).then((tsvs) => {\n\t\t\t\tthis.setState({ tsvs });\n\t\t\t});\n\t\t}\n\t}\n\n\tupdatePkm(text) {\n\t\tconst lines = text\n\t\t\t.split(/\\r?\\n/)\n\t\t\t.filter(e => /\\b\\d{4}\\b/.test(e))\n\t\t\t.map(e => e.split(/(\\b\\d{4}\\b)/));\n\t\tthis.setState({ pkm: lines, filteredPkm: lines.filter(e => this.getMatchesForPkm(e).length) });\n\t}\n\n\thandleTextChanged = (e) => {\n\t\tthis.updatePkm(e.target.value);\n\t}\n\n\thandleShowChange = (e) => {\n\t\tthis.setState({ showWoMatch: e.target.checked })\n\t}\n\n\thandleGen6Change = (e) => {\n\t\tthis.setState({ gen7: false });\n\t\tthis.setState({ filteredPkm: this.state.pkm.filter(e => this.getMatchesForPkm(e).length )})\n\t}\n\n\thandleGen7Change = (e) => {\n\t\tthis.setState({ gen7: true });\n\t}\n\n\thandleDrop = (e) => {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t\tconsole.log(e);\n\t\tif (e.dataTransfer.files[0]) {\n\t\t\tconst file = e.dataTransfer.files[0];\n\t\t\tconst fileReader = new FileReader();\n\t\t\tfileReader.onload = (ev) => { \n\t\t\t\tconst text = ev.target.result;\n\t\t\t\te.target.value = text;\n\t\t\t\tthis.updatePkm(text);\n\t\t\t};\n\t\t\tfileReader.readAsText(file);\n\t\t}\n\t\tconsole.log(e);\n\t}\n\n\tgetMatchesForPkm(pkm) {\n\t\tif (!this.state.tsvs) return [];\n\t\treturn (this.state.gen7 ? this.state.tsvs.tsvs7 : this.state.tsvs.tsvs6)[+pkm[1]];\n\t}\n\n\tgetPkm() {\n\t\treturn this.state.showWoMatch ? this.state.pkm : this.state.filteredPkm;\n\t}\n\n\trender() {\n\t\tconst tsv6Count = this.state.tsvs ? this.state.tsvs.tsvs6.filter(e => e.length && e.some(f => !f.archived)).length : 0;\n\t\tconst tsv7Count = this.state.tsvs ? this.state.tsvs.tsvs7.filter(e => e.length && e.some(f => !f.archived)).length : 0;\n\t\treturn (\n\t\t\t<div class={style.home}>\n\t\t\t\t<div class={style.topWrapper}>\n\t\t\t\t\t<div class={style.settings}>\n\t\t\t\t\t\t<h3>Settings</h3>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input type=\"checkbox\" onChange={this.handleShowChange} />\n\t\t\t\t\t\t\tShow Pokémon without matches\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"gen\" onChange={this.handleGen6Change} />\n\t\t\t\t\t\t\tGeneration 6\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"gen\" defaultChecked onChange={this.handleGen7Change} />\n\t\t\t\t\t\t\tGeneration 7\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class={style.statistics}>\n\t\t\t\t\t\t<h3>Statistics</h3>\n\t\t\t\t\t\tTSV6: <span class={style.invisible}>{'0000'.slice((\"\"+tsv6Count).length)}</span>{tsv6Count} / 4096\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tTSV7: <span class={style.invisible}>{'0000'.slice((\"\"+tsv7Count).length)}</span>{tsv7Count} / 4096\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class={style.inputContainer}>\n\t\t\t\t\t<textarea wrap=\"soft\" placeholder=\"Paste some Pokémon data here or drag & drop a dump...\" onInput={this.handleTextChanged} onDrop={this.handleDrop} />\n\t\t\t\t</div>\n\t\t\t\t<table class={`${style.results} ${this.getPkm().length ? '' : style.hidden }`}>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Pokémon</th>\n\t\t\t\t\t\t<th>Matches</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t{this.getPkm().map(pkm => \n\t\t\t\t\t\t<tr class>\n\t\t\t\t\t\t\t<td>{pkm[0]}<span class={style.tsv}>{pkm[1]}</span>{pkm[2]}</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t{this.getMatchesForPkm(pkm).map(e =>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<a href={`https://www.reddit.com/r/SVExchange/comments/${e.link}/${pkm[1]}/`} target=\"_blank\">/u/{e.user}</a>\n\t\t\t\t\t\t\t\t\t\t{e.archived ? ' (recently archived)' : null}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t)}\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./routes/home/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"inputContainer\":\"inputContainer__26ab2\",\"results\":\"results__1fpcf\",\"hidden\":\"hidden__1IFvQ\",\"tsv\":\"tsv__3FGFu\",\"topWrapper\":\"topWrapper__3C23j\",\"settings\":\"settings__2-d0H\",\"statistics\":\"statistics__3IleG\",\"invisible\":\"invisible__2NF4r\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/home/style.scss\n// module id = Lglr\n// module chunks = 0"],"sourceRoot":""}